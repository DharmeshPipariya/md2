{"version":3,"sources":["tooltip/tooltip.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;IAAA,qBAWO,eAAe,CAAC,CAAA;IACvB,uBAA2B,iBAAiB,CAAC,CAAA;IAC7C,kCAAoC,qBAAqB,CAAC,CAAA;IAC1D,gCAAkC,mBAAmB,CAAC,CAAA;IAOtD;QAUE,oBAAoB,iBAA2C,EAAU,OAAuB,EAAU,cAAgC;YAAtH,sBAAiB,GAAjB,iBAAiB,CAA0B;YAAU,YAAO,GAAP,OAAO,CAAgB;YAAU,mBAAc,GAAd,cAAc,CAAkB;YATlI,YAAO,GAAY,KAAK,CAAC;YAIN,aAAQ,GAAoB,OAAO,CAAC;YACvC,UAAK,GAAW,CAAC,CAAC;QAIoG,CAAC;QAE/I;;;WAGG;QAGI,yBAAI,GAAX,UAAY,KAAY;YAAxB,iBAyBC;YAxBC,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;gBACjB,MAAM,CAAC;YACT,CAAC;YACD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,IAAI,OAAO,GAAG,IAAI,mCAAiB,CAAC;gBAClC,OAAO,EAAE,IAAI,CAAC,OAAO;gBACrB,QAAQ,EAAE,IAAI,CAAC,QAAQ;gBACvB,MAAM,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO;aACpC,CAAC,CAAC;YAEH,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACzB,IAAI,CAAC,KAAK,GAAG,UAAU,CAAC;gBACtB,KAAI,CAAC,KAAK,GAAG,CAAC,CAAC;gBACf,IAAI,GAAG,GAAQ,KAAI,CAAC,OAAO,CAAC;gBAC5B,IAAI,YAAY,GAAqB,GAAG,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,KAAK,CAAC;gBAErF,IAAI,SAAS,GAAG,yBAAkB,CAAC,OAAO,CAAC;oBACzC,EAAE,OAAO,EAAE,mCAAiB,EAAE,QAAQ,EAAqB,OAAO,EAAE;iBACrE,CAAC,CAAC;gBAEH,IAAI,YAAY,GAAG,KAAI,CAAC,iBAAiB,CAAC,uBAAuB,CAAC,uCAAmB,CAAC,CAAC;gBACvF,IAAI,aAAa,GAAG,yBAAkB,CAAC,qBAAqB,CAAC,SAAS,EAAE,YAAY,CAAC,cAAc,CAAC,CAAC;gBACrG,KAAI,CAAC,OAAO,GAAG,YAAY,CAAC,eAAe,CAAC,YAAY,EAAE,YAAY,CAAC,MAAM,EAAE,aAAa,CAAC,CAAC;YAChG,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;QACjB,CAAC;QAED;;;WAGG;QAGI,yBAAI,GAAX,UAAY,KAAY;YACtB,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACzB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;gBAClB,MAAM,CAAC;YACT,CAAC;YACD,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;gBACjB,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;gBACvB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACtB,CAAC;QACH,CAAC;QAzDD;YAAC,YAAK,CAAC,SAAS,CAAC;;mDAAA;QACjB;YAAC,YAAK,CAAC,kBAAkB,CAAC;;oDAAA;QAC1B;YAAC,YAAK,CAAC,eAAe,CAAC;;iDAAA;QAUvB;YAAC,mBAAY,CAAC,SAAS,EAAE,CAAC,QAAQ,CAAC,CAAC;YACnC,mBAAY,CAAC,YAAY,EAAE,CAAC,QAAQ,CAAC,CAAC;;;;8CAAA;QAgCvC;YAAC,mBAAY,CAAC,UAAU,EAAE,CAAC,QAAQ,CAAC,CAAC;YACpC,mBAAY,CAAC,YAAY,EAAE,CAAC,QAAQ,CAAC,CAAC;;;;8CAAA;QArDzC;YAAC,gBAAS,CAAC;gBACT,QAAQ,EAAE,WAAW;aACtB,CAAC;;sBAAA;QA+DF,iBAAC;IAAD,CA9DA,AA8DC,IAAA;IA9DY,kBAAU,aA8DtB,CAAA;IAEY,8BAAsB,GAAU,CAAC,UAAU,EAAE,uCAAmB,CAAC,CAAC;IAS/E;QAAA;QASA,CAAC;QARQ,wBAAO,GAAd;YACE,MAAM,CAAC;gBACL,QAAQ,EAAE,gBAAgB;gBAC1B,SAAS,EAAE,CAAC;wBACV,OAAO,EAAE,mCAAiB,EAAE,QAAQ,EAAE,EAAE;qBACzC,CAAC;aACH,CAAC;QACJ,CAAC;QAfH;YAAC,eAAQ,CAAC;gBACR,OAAO,EAAE,CAAC,qBAAY,CAAC;gBACvB,YAAY,EAAE,8BAAsB;gBACpC,OAAO,EAAE,8BAAsB;gBAC/B,SAAS,EAAE,EAAE;gBACb,eAAe,EAAE,CAAC,uCAAmB,CAAC;aACvC,CAAC;;4BAAA;QAUF,uBAAC;IAAD,CATA,AASC,IAAA;IATY,wBAAgB,mBAS5B,CAAA","file":"tooltip/tooltip.js","sourcesContent":["import {\r\n  ApplicationRef,\r\n  ComponentFactoryResolver,\r\n  ComponentRef,\r\n  Directive,\r\n  HostListener,\r\n  Input,\r\n  ReflectiveInjector,\r\n  ViewContainerRef,\r\n  NgModule,\r\n  ModuleWithProviders\r\n} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport { Md2TooltipComponent } from './tooltip.component';\r\nimport { Md2TooltipOptions } from './tooltip.options';\r\n\r\nexport type TooltipPosition = 'before' | 'after' | 'above' | 'below';\r\n\r\n@Directive({\r\n  selector: '[tooltip]'\r\n})\r\nexport class Md2Tooltip {\r\n  private visible: boolean = false;\r\n  private timer: any;\r\n\r\n  @Input('tooltip') message: string;\r\n  @Input('tooltip-position') position: TooltipPosition = 'below';\r\n  @Input('tooltip-delay') delay: number = 0;\r\n\r\n  private tooltip: ComponentRef<any>;\r\n\r\n  constructor(private _componentFactory: ComponentFactoryResolver, private _appRef: ApplicationRef, private _viewContainer: ViewContainerRef) { }\r\n\r\n  /**\r\n   * show tooltip while mouse enter or focus of element\r\n   * @param event\r\n   */\r\n  @HostListener('focusin', ['$event'])\r\n  @HostListener('mouseenter', ['$event'])\r\n  public show(event: Event): void {\r\n    if (this.visible) {\r\n      return;\r\n    }\r\n    this.visible = true;\r\n    let options = new Md2TooltipOptions({\r\n      message: this.message,\r\n      position: this.position,\r\n      hostEl: this._viewContainer.element\r\n    });\r\n\r\n    clearTimeout(this.timer);\r\n    this.timer = setTimeout(() => {\r\n      this.timer = 0;\r\n      let app: any = this._appRef;\r\n      let appContainer: ViewContainerRef = app['_rootComponents'][0]['_hostElement'].vcRef;\r\n\r\n      let providers = ReflectiveInjector.resolve([\r\n        { provide: Md2TooltipOptions, useValue: <Md2TooltipOptions>options }\r\n      ]);\r\n\r\n      let toastFactory = this._componentFactory.resolveComponentFactory(Md2TooltipComponent);\r\n      let childInjector = ReflectiveInjector.fromResolvedProviders(providers, appContainer.parentInjector);\r\n      this.tooltip = appContainer.createComponent(toastFactory, appContainer.length, childInjector);\r\n    }, this.delay);\r\n  }\r\n\r\n  /**\r\n   * hide tooltip while mouse our/leave or blur of element\r\n   * @param event\r\n   */\r\n  @HostListener('focusout', ['$event'])\r\n  @HostListener('mouseleave', ['$event'])\r\n  public hide(event: Event): void {\r\n    clearTimeout(this.timer);\r\n    if (!this.visible) {\r\n      return;\r\n    }\r\n    this.visible = false;\r\n    if (this.tooltip) {\r\n      this.tooltip.destroy();\r\n      this.tooltip = null;\r\n    }\r\n  }\r\n}\r\n\r\nexport const MD2_TOOLTIP_DIRECTIVES: any[] = [Md2Tooltip, Md2TooltipComponent];\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: MD2_TOOLTIP_DIRECTIVES,\r\n  exports: MD2_TOOLTIP_DIRECTIVES,\r\n  providers: [],\r\n  entryComponents: [Md2TooltipComponent]\r\n})\r\nexport class Md2TooltipModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: Md2TooltipModule,\r\n      providers: [{\r\n        provide: Md2TooltipOptions, useValue: {}\r\n      }]\r\n    };\r\n  }\r\n}\r\n"],"sourceRoot":"/source/"}