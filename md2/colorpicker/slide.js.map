{"version":3,"file":"slide.js","sourceRoot":"","sources":["../../../src/lib/colorpicker/slide.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  Directive,\n  ElementRef,\n  Input,\n  OnDestroy,\n  Output,\n  EventEmitter,\n} from '@angular/core';\n\n@Directive({\n  selector: '[slide]',\n  host: {\n    '(mousedown)': '_handleMousedown($event)',\n    '(touchstart)': '_handleMousedown($event)'\n  }\n})\nexport class Md2Slide {\n\n  private mouseMoveListener: any;\n  private mouseUpListener: any;\n\n  @Input() slide: string;\n\n  @Output() slideChange: EventEmitter<any> = new EventEmitter<any>();\n\n  constructor(private _element: ElementRef) {\n    this.mouseMoveListener = (event: any) => { this._handleMousemove(event); };\n    this.mouseUpListener = (event: any) => { this._handleMouseup(event); };\n  }\n\n  _handleMousedown(event: any) {\n    this._emitChangeEvent(event);\n    document.addEventListener('mousemove', this.mouseMoveListener);\n    document.addEventListener('touchmove', this.mouseMoveListener);\n    document.addEventListener('mouseup', this.mouseUpListener);\n    document.addEventListener('touchend', this.mouseUpListener);\n  }\n\n  _handleMousemove(event: any) {\n    event.preventDefault();\n    this._emitChangeEvent(event);\n  }\n\n  _handleMouseup(event: any) {\n    document.removeEventListener('mousemove', this.mouseMoveListener);\n    document.removeEventListener('touchmove', this.mouseMoveListener);\n    document.removeEventListener('mouseup', this.mouseUpListener);\n    document.removeEventListener('touchend', this.mouseUpListener);\n  }\n\n  _emitChangeEvent(event: any): void {\n    let trigger = this._element.nativeElement;\n    let triggerRect = trigger.getBoundingClientRect();\n    let width = trigger.offsetWidth;\n    let height = trigger.offsetHeight;\n    let x = Math.max(0, Math.min((event.pageX !== undefined ? event.pageX : event.touches[0].pageX)\n      - triggerRect.left - window.pageXOffset, width));\n    let y = Math.max(0, Math.min((event.pageY !== undefined ? event.pageY : event.touches[0].pageY)\n      - triggerRect.top - window.pageYOffset, height));\n    this.slideChange.emit({\n      e: event,\n      height: height,\n      width: width,\n      x: x,\n      y: y\n    });\n  }\n\n}\n"]}