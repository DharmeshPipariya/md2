{"version":3,"sources":["select/selectNew.ts"],"names":[],"mappings":"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","file":"selectNew.js","sourcesContent":["import {\r\n  Component,\r\n  Directive,\r\n  ElementRef,\r\n  HostListener,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  forwardRef,\r\n  ViewEncapsulation,\r\n  NgModule,\r\n  ModuleWithProviders\r\n} from '@angular/core';\r\nimport {\r\n  NG_VALUE_ACCESSOR,\r\n  ControlValueAccessor,\r\n  FormsModule\r\n} from '@angular/forms';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { KeyCodes } from '../core/core';\r\n\r\nconst noop = () => { };\r\n\r\nlet nextId = 0;\r\n\r\nexport const MD2_SELECT_CONTROL_VALUE_ACCESSOR: any = {\r\n  provide: NG_VALUE_ACCESSOR,\r\n  useExisting: forwardRef(() => Md2Select),\r\n  multi: true\r\n};\r\n\r\n@Component({\r\n  moduleId: module.id,\r\n  selector: 'md2-select',\r\n  template: 'I am a select',\r\n  styles: [''],\r\n  providers: [MD2_SELECT_CONTROL_VALUE_ACCESSOR],\r\n  host: {\r\n    'role': 'select',\r\n    '[id]': 'id',\r\n    '[class.md2-select-disabled]': 'disabled',\r\n    '[tabindex]': 'disabled ? -1 : tabindex',\r\n  },\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class Md2Select implements ControlValueAccessor {\r\n\r\n  constructor() { }\r\n\r\n  private _value: Date = null;\r\n  private _disabled: boolean = false;\r\n  private _onTouchedCallback: () => void = noop;\r\n  private _onChangeCallback: (_: any) => void = noop;\r\n\r\n  private isMenuVisible: boolean = false;\r\n\r\n  @Output() change: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n  @Input()\r\n  get disabled(): boolean { return this._disabled; }\r\n  set disabled(value) {\r\n    this._disabled = (value !== null && value !== false) ? true : null;\r\n  }\r\n  @Input() id: string = 'md2-select-' + (++nextId);\r\n  @Input() placeholder: string;\r\n  @Input() tabindex: number = 0;\r\n\r\n  @Input()\r\n  get value(): any { return this._value; }\r\n  set value(value: any) {\r\n    if (value !== this._value) {\r\n      this._value = value;\r\n      this._onChangeCallback(value);\r\n      this.change.emit(value);\r\n    }\r\n  }\r\n\r\n  @HostListener('click', ['$event'])\r\n  private onClick(event: MouseEvent) {\r\n    if (this.disabled) {\r\n      event.stopPropagation();\r\n      event.preventDefault();\r\n      return;\r\n    }\r\n  }\r\n\r\n  @HostListener('keydown', ['$event'])\r\n  private onKeyDown(event: KeyboardEvent) {\r\n    if (this.disabled) { return; }\r\n\r\n    if (this.isMenuVisible) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n\r\n      switch (event.keyCode) {\r\n        case KeyCodes.TAB:\r\n        case KeyCodes.ESCAPE: this.onBlur(); break;\r\n      }\r\n      //  switch (event.keyCode) {\r\n      //    case KeyCodes.ENTER:\r\n      //    case KeyCodes.SPACE: this.setDate(this.displayDate); break;\r\n\r\n      //    case KeyCodes.RIGHT_ARROW: this.displayDate = this.dateUtil.incrementDays(displayDate, 1); break;\r\n      //    case KeyCodes.LEFT_ARROW: this.displayDate = this.dateUtil.incrementDays(displayDate, -1); break;\r\n\r\n      //    case KeyCodes.PAGE_DOWN: this.displayDate = this.dateUtil.incrementMonths(displayDate, 1); break;\r\n      //    case KeyCodes.PAGE_UP: this.displayDate = this.dateUtil.incrementMonths(displayDate, -1); break;\r\n\r\n      //    case KeyCodes.DOWN_ARROW: this.displayDate = this.dateUtil.incrementDays(displayDate, 7); break;\r\n      //    case KeyCodes.UP_ARROW: this.displayDate = this.dateUtil.incrementDays(displayDate, -7); break;\r\n\r\n      //    case KeyCodes.HOME: this.displayDate = this.dateUtil.getFirstDateOfMonth(displayDate); break;\r\n      //    case KeyCodes.END: this.displayDate = this.dateUtil.getLastDateOfMonth(displayDate); break;\r\n      //}\r\n    }\r\n  }\r\n\r\n  @HostListener('blur')\r\n  private onBlur() { this.isMenuVisible = false; }\r\n\r\n  writeValue(value: any): void { this.value = value; }\r\n\r\n  registerOnChange(fn: any) { this._onChangeCallback = fn; }\r\n\r\n  registerOnTouched(fn: any) { this._onTouchedCallback = fn; }\r\n\r\n}\r\n\r\n@Component({\r\n  moduleId: module.id,\r\n  selector: 'md2-optgroup',\r\n  template: `<ng-content></ng-content>`,\r\n  styles: [''],\r\n  host: {\r\n  },\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class Md2Optgroup {\r\n\r\n  private _disabled: any;\r\n\r\n  @Input() label: string;\r\n\r\n  @Input()\r\n  get disabled(): boolean { return this._disabled; }\r\n  set disabled(value) {\r\n    this._disabled = (value !== null && value !== false) ? true : null;\r\n  }\r\n}\r\n\r\n@Directive({ selector: 'md2-option' })\r\nexport class Md2Option {\r\n  constructor() { }\r\n\r\n  private _value: any;\r\n  private _disabled: any;\r\n  private _selected: any;\r\n\r\n  @Input() label: string;\r\n\r\n  @Input()\r\n  get disabled(): boolean { return this._disabled; }\r\n  set disabled(value) {\r\n    this._disabled = (value !== null && value !== false) ? true : null;\r\n  }\r\n\r\n  @Input()\r\n  get selected(): boolean { return this._selected; }\r\n  set selected(value) {\r\n    this._selected = (value !== null && value !== false) ? true : null;\r\n  }\r\n\r\n  @Input()\r\n  get value(): any { return this._value; }\r\n  set value(value: any) {\r\n    if (value !== this._value) {\r\n      this._value = value;\r\n    }\r\n  }\r\n}\r\n\r\nexport const MD2_SELECT_DIRECTIVES = [Md2Select, Md2Optgroup, Md2Option];\r\n\r\n@NgModule({\r\n  declarations: MD2_SELECT_DIRECTIVES,\r\n  imports: [CommonModule, FormsModule],\r\n  exports: MD2_SELECT_DIRECTIVES,\r\n})\r\nexport class Md2SelectModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: Md2SelectModule,\r\n      providers: []\r\n    };\r\n  }\r\n}\r\n"]}