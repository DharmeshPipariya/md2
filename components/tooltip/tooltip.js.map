{"version":3,"sources":["components/tooltip/tooltip.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,uBAAqH,eAAe,CAAC,CAAA;AACrI,oCAAkC,qBAAqB,CAAC,CAAA;AACxD,kCAAgC,mBAAmB,CAAC,CAAA;AAYpD;IAaE,YAAmB,gBAAkC,EAAE,MAA8B;QAZ7E,YAAO,GAAY,KAAK,CAAC;QAIL,cAAS,GAAW,QAAQ,CAAC;QACjC,UAAK,GAAW,CAAC,CAAC;QAQxC,IAAI,CAAC,gBAAgB,GAAG,gBAAgB,CAAC;QACzC,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;IACvB,CAAC;IAEM,IAAI,CAAC,KAAY,EAAE,MAAM;QAC9B,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;YACjB,MAAM,CAAC;QACT,CAAC;QACD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,OAAO,GAAG,IAAI,mCAAiB,CAAC;YAClC,OAAO,EAAE,IAAI,CAAC,OAAO;YACrB,SAAS,EAAE,IAAI,CAAC,SAAS;YACzB,MAAM,EAAE,IAAI,CAAC,gBAAgB,CAAC,OAAO;SACtC,CAAC,CAAC;QAEH,IAAI,OAAO,GAAG,yBAAkB,CAAC,OAAO,CAAC;YACvC,IAAI,eAAQ,CAAC,mCAAiB,EAAE,EAAE,QAAQ,EAAE,OAAO,EAAE,CAAC;SACvD,CAAC,CAAC;QACH,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACzB,IAAI,CAAC,KAAK,GAAG,UAAU,CAAC;YACtB,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;YACf,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,MAAM;iBACvB,kBAAkB,CAAC,uCAAmB,EAAE,IAAI,CAAC,gBAAgB,EAAE,OAAO,CAAC;iBACvE,IAAI,CAAC,CAAC,YAA0B;gBAC/B,MAAM,CAAC,YAAY,CAAC;YACtB,CAAC,CAAC,CAAC;QACP,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;IACjB,CAAC;IAEM,IAAI,CAAC,KAAY,EAAE,MAAM;QAC9B,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACzB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;YAClB,MAAM,CAAC;QACT,CAAC;QACD,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACrB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,YAA0B;YAC3C,YAAY,CAAC,OAAO,EAAE,CAAC;YACvB,MAAM,CAAC,YAAY,CAAC;QACtB,CAAC,CAAC,CAAC;IACL,CAAC;AACH,CAAC;AAlDC;IAAC,YAAK,CAAC,SAAS,CAAC;;2CAAA;AACjB;IAAC,YAAK,CAAC,mBAAmB,CAAC;;6CAAA;AAC3B;IAAC,YAAK,CAAC,eAAe,CAAC;;yCAAA;AAhBzB;IAAC,gBAAS,CAAC;QACT,QAAQ,EAAE,WAAW;QACrB,IAAI,EAAE;YACJ,WAAW,EAAE,uBAAuB;YACpC,cAAc,EAAE,uBAAuB;YACvC,YAAY,EAAE,uBAAuB;YACrC,cAAc,EAAE,uBAAuB;SACxC;KACF,CAAC;;cAAA;AAEW,kBAAU,aAsDtB,CAAA;AAEY,0BAAkB,GAAe,CAAC,UAAU,EAAE,uCAAmB,CAAC,CAAC","file":"components/tooltip/tooltip.js","sourcesContent":["import {Directive, Input, DynamicComponentLoader, ComponentRef, Provider, ReflectiveInjector, ViewContainerRef} from '@angular/core';\r\nimport {Md2TooltipComponent} from './tooltip.component';\r\nimport {Md2TooltipOptions} from './tooltip.options';\r\n\r\n@Directive({\r\n  selector: '[tooltip]',\r\n  host: {\r\n    '(focusin)': 'show($event, $target)',\r\n    '(mouseenter)': 'show($event, $target)',\r\n    '(focusout)': 'hide($event, $target)',\r\n    '(mouseleave)': 'hide($event, $target)'\r\n  },\r\n})\r\n\r\nexport class Md2Tooltip {\r\n  private visible: boolean = false;\r\n  private timer: number;\r\n\r\n  @Input('tooltip') content: string;\r\n  @Input('tooltip-direction') direction: string = 'bottom';\r\n  @Input('tooltip-delay') delay: number = 0;\r\n\r\n  public viewContainerRef: ViewContainerRef;\r\n  public loader: DynamicComponentLoader;\r\n\r\n  private tooltip: Promise<ComponentRef>;\r\n\r\n  public constructor(viewContainerRef: ViewContainerRef, loader: DynamicComponentLoader) {\r\n    this.viewContainerRef = viewContainerRef;\r\n    this.loader = loader;\r\n  }\r\n\r\n  public show(event: Event, target): void {\r\n    if (this.visible) {\r\n      return;\r\n    }\r\n    this.visible = true;\r\n    let options = new Md2TooltipOptions({\r\n      content: this.content,\r\n      direction: this.direction,\r\n      hostEl: this.viewContainerRef.element\r\n    });\r\n\r\n    let binding = ReflectiveInjector.resolve([\r\n      new Provider(Md2TooltipOptions, { useValue: options })\r\n    ]);\r\n    clearTimeout(this.timer);\r\n    this.timer = setTimeout(() => {\r\n      this.timer = 0;\r\n      this.tooltip = this.loader\r\n        .loadNextToLocation(Md2TooltipComponent, this.viewContainerRef, binding)\r\n        .then((componentRef: ComponentRef) => {\r\n          return componentRef;\r\n        });\r\n    }, this.delay);\r\n  }\r\n\r\n  public hide(event: Event, target): void {\r\n    clearTimeout(this.timer);\r\n    if (!this.visible) {\r\n      return;\r\n    }\r\n    this.visible = false;\r\n    this.tooltip.then((componentRef: ComponentRef) => {\r\n      componentRef.destroy();\r\n      return componentRef;\r\n    });\r\n  }\r\n}\r\n\r\nexport const TOOLTIP_DIRECTIVES: Array<any> = [Md2Tooltip, Md2TooltipComponent];"],"sourceRoot":"/source/"}